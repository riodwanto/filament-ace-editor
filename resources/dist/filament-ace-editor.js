function m({state:s,statePath:h,placeholder:n,aceUrl:c,extensions:d,config:l={},options:i={},darkTheme:a,disableDarkTheme:o}){return{state:s,statePath:h,placeholder:n,options:i,darkTheme:a,disableDarkTheme:o,editor:null,observer:null,init(){this.initializeEditor()},async initializeEditor(){try{await this.loadScript(c);for(let[e,t]of Object.entries(d))await this.loadScript(t);Object.entries(l).forEach(([e,t])=>{ace.config.set(e,t)}),this.editor=ace.edit(this.$refs.aceCodeEditor),this.editor.setOptions(i),this.editor.session.setValue(s||n),this.applyInitialTheme(),this.observeDarkModeChanges(),this.editor.session.on("change",()=>{s=this.editor.getValue()})}catch(e){console.error("Failed to initialize ACE editor:",e)}},loadScript(e){return new Promise((t,u)=>{let r=document.createElement("script");r.src=e,r.onload=t,r.onerror=u,document.head.appendChild(r)})},applyInitialTheme(){o?this.editor&&i.theme&&this.editor.setTheme(i.theme):this.setTheme()},observeDarkModeChanges(){if(o)return;let e=document.querySelector("html");this.observer=new MutationObserver(()=>this.setTheme()),this.observer.observe(e,{attributes:!0,attributeFilter:["class"]})},setTheme(){if(!this.editor)return;let t=document.querySelector("html").classList.contains("dark")?a:i.theme;this.editor.setTheme(t)}}}export{m as default};
